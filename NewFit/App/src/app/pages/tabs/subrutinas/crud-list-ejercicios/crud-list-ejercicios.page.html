<ion-content [fullscreen]="true">

  <ion-grid>
    <ion-row>
      <ion-list>

        <!-- Lista de ejercicios -->
        <ion-item *ngFor="let exercice of exercices">
          <ion-col size="1">
            <img style="max-width: 100px; height: auto;" src="{{ exercice.img_exercice }}" alt="{{ exercice.img_exercice }} Imagen">
          </ion-col>
          
          <ion-col size="3">
            <ion-label>
              <h2>{{ exercice.name }}</h2>
              <input type="hidden" id="exerciceId" name="exerciceId" value="{{exercice.id}}">
              <p>Clase de ejercicio: {{ exercice.class_exercice }}</p>
              <p>Expertis de ejercicio: {{ exercice.expertis_exercice }}</p>
              <p>Descripci贸n de ejercicio: {{ exercice.description_exercice }}</p>
              <p>Nivel principiante: {{ exercice.beginer_exercice }}</p>
              <p>Nivel intermedio: {{ exercice.inter_exercice }}</p>
              <p>Nivel avanzado: {{ exercice.expert_exercice }}</p>
            </ion-label>
            
            <!-- Botones para actualizar y eliminar -->
            <ion-button (click)="loadExerciceData(exercice.id); setModalState(true)" color="primary">Actualizar</ion-button>
            <ion-button (click)="deleteExercice(exercice.id)" color="danger">Eliminar</ion-button>

          </ion-col>

        </ion-item>

      </ion-list>

    </ion-row>

  </ion-grid>

  <!-- Modal para actualizar ejercicio -->
  <ion-modal [isOpen]="isModalOpen">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <h2>Actualizar Ejercicio</h2>
          <ion-buttons slot="end">
            <ion-button (click)="setModalState(false)">
              <ion-icon slot="end" name="arrow-undo-outline"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">

        <!-- Formulario de edici贸n -->
        <ion-card>
          <form [formGroup]="exerciceForm" (ngSubmit)="updateExercice()">

            <ion-item>
              <ion-label position="floating" for="name">Nombre: </ion-label>
              <ion-input type="text" formControlName="name" id="name"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating" for="name">Clase Ejercicio: </ion-label>
              <ion-input type="text" formControlName="class_exercice" id="class_exercice"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating" for="name">Nivel Expertis: </ion-label>
              <ion-input type="text" formControlName="expertis_exercice" id="expertis_exercice"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating" for="name">Imagen: </ion-label>
              <ion-input type="text" formControlName="img_exercice" id="img_exercice"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating" for="name">Descripci贸n: </ion-label>
              <ion-input type="text" formControlName="description_exercice" id="description_exercice"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating" for="name">Principiante: </ion-label>
              <ion-input type="text" formControlName="beginer_exercice" id="beginer_exercice"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating" for="name">Intermedio: </ion-label>
              <ion-input type="text" formControlName="inter_exercice" id="inter_exercice"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating" for="name">Avanzado: </ion-label>
              <ion-input type="text" formControlName="expert_exercice" id="expert_exercice"></ion-input>
            </ion-item>

            <!-- Otros campos del formulario -->

            <ion-button expand="full" type="submit" [disabled]="exerciceForm.invalid">Actualizar Ejercicio</ion-button>
          </form>
        </ion-card>
      </ion-content>
    </ng-template>
  </ion-modal>

  <!-- Bot贸n para crear nuevo ejercicio -->
  <ion-button expand="block" color="warning" [routerLink]="['/tabs/subrutinas/crud-crear-ejercicio']">Crear Nuevo Ejercicio</ion-button>

</ion-content>

<!-- Footer / Tabs -->
<ion-footer>
  <ion-toolbar>
    <app-barramenu></app-barramenu>
  </ion-toolbar>
</ion-footer>
