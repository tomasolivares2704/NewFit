<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>crud_crear</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

    <ion-list>
      <ion-item *ngFor="let food of foods">
        <ion-label>
          <h2>{{ food.name }}</h2>
          <p>Calorías: {{ food.calories }}</p>
          <p>Carbohidratos: {{ food.carbs }}</p>
          <p>Grasas: {{ food.fats }}</p>
          <p>Proteínas: {{ food.protein }}</p>

          <!-- ACTUALIZAR ALIMENTO CON MODAL-->

        <ion-button (click)="loadFoodData(food); setOpen(true)" color="primary">Actualizar</ion-button>
        <ion-modal [isOpen]="isModalOpen">
          <ng-template>
            <ion-header>
              <ion-toolbar>
                <ion-title>Actualizar Comida</ion-title>
                <ion-buttons slot="end">
                  <ion-button  (click)="setOpen(false)">Volver</ion-button>
                </ion-buttons>
              </ion-toolbar>
            </ion-header>
            <ion-content class="ion-padding">
  
              <!-- FORMULARIO DE EDICIÓN -->
            <form [formGroup]="foodForm" (ngSubmit)="updateFood()">
              <ion-item>
                <label position="floating" for="name">Nombre:</label>
                <input type="text" formControlName="name" id="name">
              </ion-item>
              <ion-item>
                <label for="calories">Calorías:</label>
                <input type="text" formControlName="calories" id="calories">
              </ion-item>
              <ion-item>
                <label for="carbs">Carbohidratos:</label>
                <input type="text" formControlName="carbs" id="carbs">
              </ion-item>
              <ion-item>
                <label for="fats">Grasas:</label>
                <input type="text" formControlName="fats" id="fats">
              </ion-item>
              <ion-item>
                <label for="protein">Proteínas:</label>
                <input type="text" formControlName="protein" id="protein">
              </ion-item>
              <ion-button expand="full" type="submit" [disabled]="foodForm.invalid">Actualizar Alimento</ion-button>
            </form>
              
  
            </ion-content>
          </ng-template>
        </ion-modal>

        </ion-label>
      </ion-item>
    </ion-list>

    <!-- CREAR ALIEMNTO CON MODAL-->

  <ion-button expand="block" (click)="setOpen(true)" color="warning">Crear Nueva Comida</ion-button>
  <ion-modal [isOpen]="isModalOpen">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>Formulario de Comidas</ion-title>
          <ion-buttons slot="end">
            <ion-button  (click)="setOpen(false)">Volver</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">

        <form [formGroup]="foodForm" (ngSubmit)="createNewFood()">
          <ion-item>
            <label position="floating" for="name">Nombre:</label>
            <input type="text" formControlName="name" id="name">
          </ion-item>
          <ion-item>
            <label for="calories">Calorías:</label>
            <input type="text" formControlName="calories" id="calories">
          </ion-item>
          <ion-item>
            <label for="carbs">Carbohidratos:</label>
            <input type="text" formControlName="carbs" id="carbs">
          </ion-item>
          <ion-item>
            <label for="fats">Grasas:</label>
            <input type="text" formControlName="fats" id="fats">
          </ion-item>
          <ion-item>
            <label for="protein">Proteínas:</label>
            <input type="text" formControlName="protein" id="protein">
          </ion-item>
          <ion-button expand="full" type="submit" [disabled]="foodForm.invalid">Agregar Alimento</ion-button>
        </form>

        
      </ion-content>
    </ng-template>
  </ion-modal>


  <div>
    
    
  </div>
</ion-content>

<!-- FOOTER // TABS -->
  
<ion-footer>
  <ion-toolbar>
    <app-barramenu></app-barramenu>
  </ion-toolbar>
</ion-footer>
